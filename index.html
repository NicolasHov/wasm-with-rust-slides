<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Target WASM with Rust</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/black.css" id="theme" />

    <!-- Theme used for syntax highlighted code -->
    <link
      rel="stylesheet"
      href="plugin/highlight/monokai.css"
      id="highlight-theme"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <br />
          <div class="wrapper-light">
            Why target<span class="gradient-purple"> WebAssembly</span> with
            <span class="gradient-red">Rust</span> ?
          </div>
          <br />
          <div>
            <p class="fragment">
              Take a deep breath and be ready to dive into
              <span class="gradient-purple">the last big web standard</span> of
              the W3C...
            </p>
            <p class="fragment">ü´ß</p>
            <p class="fragment">ü´ß</p>
          </div>
        </section>
        <section>
          Table of contents:
          <br /><br />
          <ul>
            <li class="fragment">
              No, the browser (<span class="yellow">JavaScript</span>) can not
              do everything...
            </li>
            <li class="fragment">Ok, but can we use NodeJS to solve it ?</li>
            <li class="fragment">
              Or <span class="gradient-purple">WebAssembly</span> üï∏Ô∏è ? But what
              that is ?
            </li>
            <li class="fragment">
              Advantagesüëçüèª and specificities‚ö†Ô∏è of WebAssembly
            </li>
            <li class="fragment">
              Why <span class="gradient-red">Rust</span> ü¶Ä may be a good choice
              to target into WebAssembly ?
            </li>
          </ul>
          <!--li class="fragment">Ok but how ? Show me then üëÄ</li-->

          <p class="fragment left-text" style="font-size: large">
            wasm = WebAssembly
          </p>
        </section>
        <section>
          <h2 class="r-fit-text">
            What <span class="fragment highlight-red">IS NOT</span> possible to
            code in the browser using JavaScript ?..........
          </h2>
          <h2 class="fragment">And</h2>
          <h2 class="fragment r-fit-text">
            What <span class="fragment highlight-green">IS</span> possible to
            code outside the browser using other languages ?
          </h2>
          <!--h2 class="r-fit-text">Any idea ?</h2-->
          <aside class="notes">
            - What is web ? it's all that can run in the browser (for instance:
            HTML, CSS, JS) - ex: V8 motor chromium, speedmonkey for firefox - -
            they can interpret JS and animate pages, can retrieve data for a web
            API; etc. - what if I want to code a video editor directly in my
            browser ?
          </aside>
        </section>
        <section>
          <br />
          <div class="r-stack">
            <img
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/flaudio.jpg?v=1696857150014"
              width="700"
              height="500"
            />
            <img
              class="fragment"
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/premiereprog.jpg?v=1696857732837"
              width="700"
              height="500"
            />
            <img
              class="fragment"
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/unity.jpg?v=1696857003107"
              width="700"
              height="500"
            />
          </div>
        </section>
        <section>
          <h2 class="r-fit-text">
            Use case: "I want to make an audio editor in my browser"
          </h2>
          <h2 class="r-fit-text">What are the JavaScript limitations?</h2>

          <br />
          <ul style="list-style: none">
            <li class="fragment">JS was not designed for realtime computations</li>
            <li>
              JS was not designed to manipulate binary data type (not like more
              low-level languages like C,C++, Rust)
            </li>
            <aside class="notes">
              if i try to create an audio editor with JS (without the webAPI, it
              will have pause/bugs -in a word, more high level languages have
              what we call a garbage collector to manage memory, -In the case of
              JS, the GC pauses the runtime randdomly ' GC stop the world',
              that's why -its not designed for realtime computation garbage
              collector et -> on peut pas faire du calcul en continue comme
              √©dition/d√©codage vid√©o-->
            </aside>
          </ul>
        </section>
        <section>
          <h5>What are the JavaScript limitations ?</h5>
          <br />
          <ul style="list-style: none">
            <li class="fragment">
              - "Ok but with NodeJS I can use packages wich contains some C, C++
              or Rust code" [with fast and realtime computations]
            </li>
            <br />
            <li class="fragment">- "So why not use them?"</li>
          </ul>
          <br />
          <p class="gradient-red fragment">
            spoiler alert: we can't use those packages !
          </p>
          <aside class="notes">
            ###########################################################TODO 
            - (On peut tricher avec le driver de la carte son) 
            - Qd on manipule Binary
            data type (image, son, pas du texte) on est oblig√© d'utiliser l'API
            du browser (api webGL pour le 3d, api audio ,etc qui sont cod√©es en
            C,C++, Rust)
          </aside>
        </section>
        <section>
          <h5>
            <span class="gradient-purple"
              ><em>What are the JavaScript limitations?</em></span
            >
          </h5>
          <p>Let's talk about JS...</p>
          historique : aujourd'hui on voudrait que le navigateur sache tout faire (pas la premi√®re fois qu'on fait autre chose que je ds nav car flash, java web applet, Google native client

          (here the story of chrome native C++...)
        </section>
        <section>Is there a solution to save us ??? üò±</section>

        <!--#####    WebAssembly    #####-->

        <section
          data-background="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/webassembly-icon.svg?v=1696780160281"
          data-background-repeat="repeat"
          data-background-size="100px"
        >
          <div class="wrapper-dark">
            <span class="gradient-purple">WebAssembly</span> üï∏Ô∏è
          </div>
        </section>
        <section>
          <h2 class="r-fit-text">
            Use case: "I want to make an audio editor in my browser"
          </h2>
          <a href="https://wavacity.com" class="fragment">
            <img
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/wavacity.png?v=1696858464293"
            />
          </a>
          <a href="https://wavacity.com" class="fragment"
            ><p class="fragment">Try me</p></a
          >
        </section>
        <section>
          <p>Web (browser) + Assembly (machine language) = WebAssembly</p>
          <aside class="notes">
            T An assembly language (binary instructions) made to be executed on
            the virtual machine that is the browser. wasm: plus proche de
            comment fonctionne ordi exemple : gestion de la m√©moire, les types
            de nombres
          </aside>
        </section>
        <section>
          Some code worth 1000 words:
          <img
            class="fragment"
            src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/wat_wasm.png?v=1696935870486"
          />
          <p class="fragment">wat (.wat) format of wasm code (.wasm)</p>
          <aside class="notes">
            To enable WebAssembly to be read and edited by humans (debugged),
            there is a textual representation of the Wasm binary format.
          </aside>
        </section>
        <section>
          <h4>From MDN's official documentation:</h4>
          <blockquote
            cite="https://developer.mozilla.org/en-US/docs/WebAssembly"
          >
            &ldquo;WebAssembly has huge implications for the web platform ‚Äî it
            provides a way to run code written in
            <strong class="gradient-purple">multiple languages</strong> on the
            <strong class="gradient-purple">web</strong> at
            <strong class="gradient-purple">near native speed</strong>, with
            client apps running on the web that previously couldn't have done
            so.&rdquo;
          </blockquote>
          <div style="display: flex; justify-content: center">
            <p class="fragment" style="margin-left: 40px">üñáÔ∏èFlexibility</p>
            <p class="fragment" style="margin-left: 40px">üíºPortability</p>
            <p class="fragment" style="margin-left: 40px">üöÄPerformance</p>
          </div>
          <aside class="notes">
            Native performance with the ease of web distribution
          </aside>
        </section>
        <section>
          <h5>üñáÔ∏èFlexibility:</h5>
          <p class="fragment">
            <em>use multiple languages in the browser </em>
          </p>
          <br />
          <table class="fragment">
            <tr>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Rust</td>
              <td>C</td>
              <td>C++</td>
            </tr>

            <tr>
              <td>Go</td>
              <td>AssemblyScript</td>
              <td>C#</td>
            </tr>
            <tr>
              <td>F#</td>
              <td>Cobol</td>
              <td>Zig, D...</td>
            </tr>
          </table>
          <aside class="notes">
            - Languages that compile to Wasm - recall: to compile is to
            translate from a language to another - there's Some others languages
            try to create their own compilers to Wasm but there compilers are
            not yet stable
          </aside>
        </section>
        <section>
          <h5>üñáÔ∏èFlexibility:</h5>
          <ul style="list-style: none">
            <li>
              Bring large applications or game engines to the web, without
              sacrificing performance or having to re-write them from scratch
            </li>
            <br />
            <li>
              Integrate libraries written in other languages in your projects.
            </li>
          </ul>
          <aside class="notes">
            everything is now possible in the browser (Google Earth, Figma for
            instance).
          </aside>
        </section>

        <section>
          <h5>üöÄPerformance:</h5>
          <br />
          <ul style="list-style: none">
            <li>
              you can do performance-intensive tasks like computations for 3D
              games, virtual, and augmented reality or computer vision
            </li>
            <br />
            <li>
              All calculations are done on the client side, these applications
              no longer need a server. For example, Figma continues to work
              without a connection
            </li>
          </ul>
        </section>

        <section>
          <h5>üíºPortability:</h5>
          <p>Run on all browsers.</p>
          <ul style="list-style: none">
            <li>
              >>Google Chrome‚Äôs V8 engine and Mozilla Firefox‚Äôs SpiderMonkey,
              include a WebAssembly virtual machine (or runtime).
            </li>
            <br />
            <li>>>no 2nd point here</li>
          </ul>
          <aside class="notes">
            This runtime is responsible for executing the Wasm binary
            instructions within the browser environment Javascript Core Webkit
            for Safari, Chakra for Edge
          </aside>
        </section>
        <section>
          <h5>Wasm won't replace JS:</h5>
          <ul style="list-style: none">
            <li class="fragment">
              >>JS acts like glue code between the browser and Wasm
            </li>
            <br />
            <li class="fragment">>>Web APIs are only exposed in JS</li>
          </ul>
          <aside class="notes">
            Wasm is not intended to replace JavaScript, but to run alongside it.
            more, Js acts like Glue code: from one hand is talking to the
            browser (via webAPI) and from the other to wasm
          </aside>
        </section>
        <section>
          <h5>Wasm won't disappear tomorrow:</h5>
          <ul style="list-style: none">
            <li class="fragment">
              >>It's a standard from the web consortium since 2017
            </li>
            <br />
            <li class="fragment">
              >>It can also be executed outside of the browser environment
              (WASI)
            </li>
          </ul>
          <aside class="notes">
            - the WebAssembly System Interface (WASI) provides a standardized
            way for Wasm modules to interact with the host system - WASI allows
            Wasm modules can discuss with the system like file I/O, network
            access, and interacting with system resources. - dev can code
            cross-platform application : directly for the browser and for the
            system outside the browser
          </aside>
        </section>
        <!--#####      Rust    #####-->
        <section>
          <h5>
            Use case:
            <span class="gradient-purple"
              ><em>I want to code an audio editor</em></span
            >
          </h5>
          <p>what languages can I use?</p>
        </section>
        <section
          data-background-color="rgb(70, 70, 255)"
          data-background="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/rust-lang-icon.svg?v=1696780169301"
          data-background-repeat="repeat"
          data-background-size="200px"
        >
          <div class="wrapper-dark">
            Why target<span class="gradient-purple"> WebAssembly</span> with
            <span class="gradient-red">Rust</span> ?
          </div>
        </section>
        <section>
          The main reason is:
          <p>
            <quote>
              Rust's memory safety guarantees make memory leaks truly rare
            </quote>
            (there's others reasons like community, tooling)
          </p>
          Then the wasm app will keep the same guarantees
          <aside class="notes">
            une VM , un modele abstrait d'ordi. Si on fait un code C avec bug
            dans m√©moire, le code wasm est aussi bug√©. En rust on ne peut pas
            faire de bug m√©moire...donc cool :)
          </aside>
        </section>
        <section>
          How to target wasm with Rust: Demo with rust-crypto lib (TODO)
        </section>
        <section>opening: wasm outside the browser? WASI</section>
        <section data-background="white">
          <h2>Questionsüêü</h2>
        </section>
        <section data-markdown>
          #### Thank you for your attention ! To continue the discussion
          [https://hachyderm.io/@Nicolas_ho](https://hachyderm.io/@Nicolas_ho)
        </section>
        <section data-background="white">
          <h2>Demo!</h2>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
