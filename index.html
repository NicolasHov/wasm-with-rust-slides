<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Target WASM with Rust</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/black.css" id="theme" />

    <!-- Theme used for syntax highlighted code -->
    <link
      rel="stylesheet"
      href="plugin/highlight/monokai.css"
      id="highlight-theme"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <div class="wrapper-light">
              Why target<span class="gradient-purple"> WebAssembly</span> with
              <span class="gradient-red">Rust</span> ? 
          </div>
          <div>
          <p class="fragment">
            Take a deep breath and be ready to dive into 
            <span class="gradient-purple">the last big web standard</span> of
            the W3C...
          </p>
          <p class="fragment">ü´ß</p>
          <p class="fragment">ü´ß</p>
          <p class="fragment">But why is it big ?</p>
          </div>
        </section>
        <section>
          Table of contents:
          <br /><br />
          <ul>
            <li class="fragment">
              No, the browser (<span class="yellow">JavaScript</span>) can not
              do everything...
            </li>
            <li class="fragment">Ok, but can we use NodeJS to solve it ?</li>
            <li class="fragment">
              Or <span class="gradient-purple">WebAssembly</span> üï∏Ô∏è ? But what
              that is ?
            </li>
            <li class="fragment">Advantagesüëçüèª and limitsüëéüèª of WebAssembly</li>
            <li class="fragment">
              Why <span class="gradient-red">Rust</span> ü¶Ä may be a good choice
              to target into WebAssembly ?
            </li>
          </ul>
          <!--li class="fragment">Ok but how ? Show me then üëÄ</li-->

          <p class="fragment left-text">wasm = WebAssembly</p>
        </section>
        <section>
          <h2 class="r-fit-text">
            What <span class="fragment highlight-red">IS NOT</span> possible to
            code in the browser using JavaScript ?..........
          </h2>
          <h2 class="fragment">And</h2>
          <h2 class="fragment r-fit-text">
            What <span class="fragment highlight-green">IS</span> possible to
            code outside the browser using other languages ?
          </h2>
          <!--h2 class="r-fit-text">Any idea ?</h2-->
          <aside class="notes">
            - What is web ? it's all that can run in the browser (for instance:
            HTML, CSS, JS) - ex: V8 motor chromium, speedmonkey for firefox - -
            they can interpret JS and animate pages, can retrieve data for a web
            API; etc. - what if I want to code a video editor directly in my
            browser ?
          </aside>
        </section>
        <section>
          <br />
          <div class="r-stack">
            <img
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/flaudio.jpg?v=1696857150014"
              width="700"
              height="500"
            />
            <img
              class="fragment"
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/premiereprog.jpg?v=1696857732837"
              width="700"
              height="500"
            />
            <img
              class="fragment"
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/unity.jpg?v=1696857003107"
              width="700"
              height="500"
            />
          </div>
        </section>
        <section>
          <h2 class="r-fit-text">
            Use case: "I want to make an audio editor in my browser"
          </h2>
          <h2 class="r-fit-text">What are the JavaScript limitations?</h2>

          <br />
          <ul>
            <li>JS was not designed for continuous computations</li>
            <li>
              JS was not designed to manipulate binary data type (not like more
              low-level languages like C,C++, Rust)
            </li>
            <aside class="notes">
              if i try to create an audio editor with JS (without the webAPI, it will have pause/bugs 
              -in a word, more high level languages have what we call a garbage collector to manage memory,
              -In the case of JS, the GC pauses the runtime randdomly ' GC stop the world', that's why
              -its not designed for continuous computation garbage collector et
              -> on peut pas faire du calcul en continue comme √©dition/d√©codage vid√©o-->
            </aside>
          </ul>
        </section>
        <section>
          <h5>What are the JavaScript limitations? ></h5>
          <br />
          <ul>
            <li>
              "Ok but with NodeJS I can use packages wich contains some C, C++
              or Rust code" [with fast and continuous computations]
            </li>
            <li>"So why not use them?""</li>
          </ul>
          <br />
          <p class="gradient-red">spoiler alert: we can't !</p>
          <p class="gradient-red">
            other spoiler alert: the next talk will target this subject
          </p>
          <aside class="notes">In the next talk...</aside>
        </section>
        <section>
          <h5>
            Use case üé•:
            <span class="gradient-purple"
              ><em>What are the JavaScript limitations?</em></span
            >
          </h5>
          <h2>No, we</h2>
          <p>why do you think?</p>
          (here the story of chrome native C++...)
        </section>
        <section>Is there a solution to save us ??? üò±</section>
        
        
        
        <!--#####    WebAssembly    #####-->
        

        
        <section
          data-background="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/webassembly-icon.svg?v=1696780160281"
          data-background-repeat="repeat"
          data-background-size="100px"
        >
          <div class="wrapper-dark">
            <span class="gradient-purple">WebAssembly</span> üï∏Ô∏è
          </div>
        </section>
        <section>
          <h2 class="r-fit-text">
            Use case: "I want to make an audio editor in my browser"
          </h2>
          <a href="https://wavacity.com" class="fragment">
            <img
              src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/wavacity.png?v=1696858464293"
            />
          </a>
          <p class="fragment">Click me</p>
        </section>
        <section>
          <p>Web + Assembly = WebAssembly</p>
          <aside class="notes">
            is not quite an assembly language. It‚Äôs not meant for any particular
            machine. It‚Äôs for web browsers, and when you‚Äôre delivering code to
            be executed in the browser, you don‚Äôt know what kinds of machines
            will your code be running on. wasm: plus proche de comment
            fonctionne ordi par exemple : gestion de la m√©moire, les types de
            nombres je peux faire tt ce que je fais sur ordi sur le navigateur !
            <!-- wasm jms de pause car pas de GC -->
          </aside>
        </section>
        <section>
          <h4>
            From MDN's official documentation:
          </h4>
          <blockquote cite="https://developer.mozilla.org/en-US/docs/WebAssembly">
						&ldquo;WebAssembly has huge implications for the web platform ‚Äî 
            it provides a way to run code written in multiple languages on
            the web at near native speed, with client apps running on the
            web that previously couldn't have done so.&rdquo;
					</blockquote>
          <aside class="notes">
            Figma, google earth, ebay mais en test
          </aside>
        </section>
        <section>
          
         
          <h4>The languages that compile to wasm</h4>
          <p>Recall: to compile is to translate from a language to another</p>
					<table>
							<tr>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>Rust</td>
								<td>C</td>
								<td>C++</td>
							</tr>
						
							<tr>
								<td>Go</td>
								<td>AssemblyScript</td>
								<td>C#</td>
							</tr>
							<tr>
								<td>F#</td>
								<td>Cobol</td>
								<td>...</td>
							</tr>
						</tbody>
					</table>
           <aside class="notes">
           Some others languages try to create their own compilers to wasm but they are not yet stable
          </aside>
        </section>
        <section>
          Some code worth 1000 words:
          <img
            src="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/wat_wasm.png?v=1696935870486"
          />
          <p>
            S-expression (wat) format of wasm code. (Only for debugging purpose) 
          </p>
        </section>
        <section>
          <h5>Advantages:</h5>
          <ul>
            <li>
              You can finally outsource performance-intensive tasks like
              computations for 3D games, virtual, and augmented reality or
              computer vision to C/C++ or Rust-like performant languages.
            </li>
            <li>
              There are tons of amazing legacy libraries written in your
              language (C, C++, Rust, etc.) which can now be seamlessly
              integrated into your web application.
            </li>
            <li>
              bring large applications to the web, without sacrificing
              performance or having to re-write the entire application from
              scratch (Google Earth, Figma, for example).
              <!-- Google Earth was previously written with C for desktop-->
            </li>
            <p>
              We can see wasm as a way to code app in the Front-End, it's a
              design choice.
            </p>
          </ul>
        </section>
        <section>
          wasm limitations: wasm can't replace JS
          <p>Web API are only exposed in JS</p>
        </section>
      
           
        
        <!--#####      Rust    #####-->
        

      
        <section
          data-background-color="rgb(70, 70, 255)"
          data-background="https://cdn.glitch.global/4a8a22ae-a947-460e-9c6b-bc3367c62bd8/rust-lang-icon.svg?v=1696780169301"
          data-background-repeat="repeat"
          data-background-size="200px"
        >
          <div class="wrapper-light">
             Why target<span class="gradient-purple"> WebAssembly</span> with
              <span class="gradient-red">Rust</span> ?
          </div>
        </section>
        <section>
          The main reason is:
          <p>
            <quote>
              Rust's memory safety guarantees make memory leaks truly rare
            </quote>
            (there's others reasons like community, tooling)
          </p>
          Then the wasm app will keep the same guarantees
          <aside class="notes">
            une VM , un modele abstrait d'ordi. Si on fait un code C avec bug
            dans m√©moire, le code wasm est aussi bug√©. En rust on ne peut pas
            faire de bug m√©moire...donc cool :)
          </aside>
        </section>
        <section>
          How to target wasm with Rust: Demo with rust-crypto lib (TODO)
        </section>
        <section>opening: wasm outside the browser? WASI</section>
        <section data-background="white">
          <h2>Questionsüêü</h2>
        </section>
        <section data-markdown>
          #### Thank you for your attention ! To continue the discussion
          [https://hachyderm.io/@Nicolas_ho](https://hachyderm.io/@Nicolas_ho)
        </section>
        <section data-background="white">
          <h2>Demo!</h2>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
